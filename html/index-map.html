<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps - pygmaps </title>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=visualization&sensor=true_or_false"></script>
    <script type="text/javascript">
      function initialize() {
      var centerlatlng = new google.maps.LatLng(@(caaar w), @(cadaar w));
      var myOptions = {
      zoom: 6,
      center: centerlatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,

      };
      
      var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

      function pinSymbol(color) {
      return {
      path: 'M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z M -2,-30 a 2,2 0 1,1 4,0 2,2 0 1,1 -4,0',
      fillColor: color,
      fillOpacity: 1,
      strokeColor: '#000',
      strokeWeight: 2,
        scale: 1,
      };
      }

      function pinSymbol2(color) {
      return {
      path: 'M 0,0 -1,-2 V -43 H 1 V -2 z M 1,-40 H 30 V -20 H 1 z',
      fillColor: color,
      fillOpacity: 1,
      strokeColor: '#000',
      strokeWeight: 2,
        scale: 1,
      };
      }


      @for/list[([cluster_data_maps cluster_data_group_order]
      [color colors]
      )]{
      @list{
      
      @for/list[([x_all cluster_data_maps]
      )]{
      @list{

      var latlng = new google.maps.LatLng(@(cadr x_all), @(caddr x_all));


      var marker = new google.maps.Marker({
      size: new google.maps.Size(20,20),
      
      icon: pinSymbol("@color"),
      position: latlng		});
      marker.setMap(map);

      
      }
      }
      }
      }


      @for/list[([cluster_data_maps w]
      )]{
      @list{
      
      @for/list[([x_all cluster_data_maps]
      [color colors]
      )]{
      @list{

      var latlng = new google.maps.LatLng(@(car x_all), @(cadr x_all));


      var marker = new google.maps.Marker({
      size: new google.maps.Size(20,20),
      
      icon: pinSymbol2("@color"),
      position: latlng		});
      marker.setMap(map);

      
      }
      }
      }
      }


      
      }
    </script>
  </head>
  <body style="margin:0px; padding:0px;" onload="initialize()">
    <div id="map_canvas" style="width: 100%; height: 100%;"></div>
  </body>
</html>

